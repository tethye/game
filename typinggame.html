<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" type="image" href="img/gi.jpg">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <title>Typing Bullet Game</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap');
*
{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Quicksand', sans-serif;
}
body 
{
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: #000;
}
section 
{
  position: absolute;
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2px;
  flex-wrap: wrap;
  overflow: hidden;
}
section::before 
{
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(#000,rgb(90, 192, 240),#000);
  animation: animate 5s linear infinite;
}
@keyframes animate 
{
  0%
  {
    transform: translateY(-100%);
  }
  100%
  {
    transform: translateY(100%);
  }
}
section span 
{
  position: relative;
  display: block;
  width: calc(6.25vw - 2px);
  height: calc(6.25vw - 2px);
  background: #181818;
  z-index: 2;
  transition: 1.5s;
}
section span:hover 
{
  background: rgb(90, 192, 240);
  transition: 0s;
}


section .signin
{
  position: absolute;
  width: 500px;
  height: fit-content;
  /* background: #222;   */
  z-index: 1000;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: auto;
  border-radius: 4px;
  box-shadow: 0 15px 35px rgba(0,0,0,9);
}
section .signin .content 
{
  position: relative;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  gap: 20px;
}

section .signin .content .links 
{
  position: relative;
  width: 100%;
  display: flex;
  justify-content: space-between;
  
}

section .signin .content .links a 
{
  color: #fff;
  text-decoration: none;
  background: #222;  
  font-size: 20px;
}

section .signin .content .links a:nth-child(2)
{
  color: rgb(90, 192, 240);
  /* font-weight: 600; */
  background: #222;  
  font-size: 20px;;
}

section .signin .content .hscore
{
  color: #81863b;
  /* font-weight: 600; */
}

  

  #game-screen {
        position: relative;
        /* font-weight: 600; */
        color: beige;

        align-items: center;
        justify-content: center;
        width : 500px;
        height: 550px;
        background-color:rgba(90, 192, 240, .3);

    }
    
    #word {
        position: absolute;
        top: 0px;
    }

    #gun {
    align-items: center;
    justify-content: center;
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 50px;
    height: 50px;
    color: rgba(255, 102, 0, 0.5);
    background-color: transparent;
    transform: translateX(-60%) translateY(20%);
    z-index: 1;
    animation: slideBottom 3s ease forwards;
    }
    
    .fireball{
      background-image: radial-gradient(rgba(255, 0, 0, 0.5), rgba(255, 166, 0, 0.5), rgba(255, 230, 0, 0.5)) ;
      border-radius: 50%;
      box-shadow: 0 0 5px rgb(255, 102, 0), 0 0 25px rgb(255, 102, 0), 0 0 50px rgb(255, 102, 0), 0 0 100px rgb(255, 102, 0), 0 0 200px rgb(255, 102, 0);
      animation: fire 0.5s ease-in-out forwards;
     
    }

    /* @keyframes fire {
      0% {
        transform: translateX(-60px) translateY(250px);
        
      }
      100% {
        transform: translateX(0px) translateY(0px);
        
      }
      
      
    } */

    @keyframes slideBottom {
    0% {
        transform: translateY(-300px);
        opacity: 0;
    }
    100% {
        transform: translateY(0px);
        opacity: 1;
    }
}
    
  

  </style>
</head>
<body>
  <section> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 
    <span></span> <span></span> <span></span> 

   <div class="signin"> 
    
    <div class="content"> 

      <div class="links"> 

        <a id="uname"href=""></a> 
        
        <a id="pause-btn" href="#"><div id="score">Score: <em id="score-value">0</em></div></a> 
        
  
      </div> 
     
       
      <div id="game-screen">
         <input type="text" id="triggerInput" style="position: absolute; left: -9999px;" />
        <em id="word"></em>
        <div id="gun"><i class="fa-solid fa-dice-d20 fa-2x"></i></div> 
      </div>
      <!-- <div id="score">Score: <em id="score-value">0</em></div> -->

      <div class="links"> 

        <a href="highscoretype.html">High Score</a> 
        
        <a href="menu.html">Back to menu</a> 
        
  
      </div> 
     

    </div> 

   </div> 

  </section>

  <script type="application/javascript">
  document.getElementById('uname').innerText = 'Hello '+localStorage.getItem('curuser') + '!';

  function soundEffects(url) {
    let a = new Audio(url)
    a.play()
  }

 
  document.addEventListener(
    "keydown", () => soundEffects("img/shoot.wav")
  )


  document.addEventListener("DOMContentLoaded", function() {
    let score = 0;
    let position =0;
    const gameScreen = document.getElementById("game-screen");
    const wordSpan = document.getElementById("word");
    const scoreSpan = document.getElementById("score-value");
    const gun = document.getElementById("gun");
    const curuser = localStorage.getItem('curuser');


    const words = ["HELLO", "WORLD", "APPLE", "BANANA", "ORANGE", "COMPUTER", "PHONE", "TABLE", "CHAIR", "DESK",
    "LAMP", "BOOK", "PENCIL", "PAPER", "CAT", "DOG", "BIRD", "FISH", "TREE", "FLOWER",
    "HOUSE", "CAR", "BICYCLE", "TRAIN", "BUS", "PLANE", "SHIP", "SUN", "MOON", "STAR",
    "MOUNTAIN", "RIVER", "LAKE", "OCEAN", "BEACH", "FOREST", "CITY", "TOWN", "VILLAGE", "ROAD",
    "STREET", "BRIDGE", "PARK", "GARDEN", "ZOO", "MUSEUM", "LIBRARY", "HOSPITAL", "SCHOOL", "UNIVERSITY",
    "RESTAURANT", "CAFE", "HOTEL", "STORE", "MARKET", "MALL", "CINEMA", "THEATER", "CONCERT", "MUSIC",
    "ART", "PAINTING", "SCULPTURE", "DANCE", "SPORT", "FOOTBALL", "BASKETBALL", "TENNIS", "SWIMMING", "RUNNING",
    "WALKING", "HIKING", "CYCLING", "YOGA", "MEDITATION", "EXERCISE", "FITNESS", "HEALTH", "WELLNESS", "NUTRITION",
    "COOKING", "BAKING", "RECIPE", "FOOD", "DRINK", "WATER", "JUICE", "COFFEE", "TEA", "MILK",
    "SUGAR", "SALT", "PEPPER", "SPICE", "VEGETABLE", "FRUIT", "MEAT", "FISH", "CHICKEN", "BEEF",
    "PORK", "LAMB", "RICE", "PASTA", "BREAD", "CAKE", "COOKIE", "CHOCOLATE", "ICE CREAM", "CANDY",
    "SWEET", "SOUR", "BITTER", "SPICY", "HOT", "COLD", "WARM", "COOL", "DRY", "WET",
    "CLOUD", "RAIN", "SNOW", "WIND", "STORM", "THUNDER", "LIGHTNING", "RAINBOW", "SKY", "WEATHER",
    "CLIMATE", "SEASON", "SPRING", "SUMMER", "AUTUMN", "FALL", "WINTER", "DAY", "NIGHT", "MORNING",
    "AFTERNOON", "EVENING", "MIDNIGHT", "HOUR", "MINUTE", "SECOND", "TIME", "CLOCK", "WATCH", "CALENDAR",
    "DATE", "YEAR", "MONTH", "WEEK", "DAY", "TODAY", "TOMORROW", "YESTERDAY", "PAST", "PRESENT",
    "FUTURE", "LIFE", "BIRTH", "DEATH", "SOUL", "SPIRIT", "MIND", "BODY", "HEART", "LOVE",
    "FRIENDSHIP", "FAMILY", "HOME", "HOUSE", "APARTMENT", "ROOM", "BEDROOM",  "KITCHEN",
     "SHOWER", "SINK", "MIRROR", "WINDOW", "DOOR", "WALL", "FLOOR", "CEILING",
    "ROOF", "FURNITURE", "SOFA", "COUCH", "ARMCHAIR", "TABLE", "CHAIR","WINDOW", "DOOR", "WALL", "FLOOR", "CEILING", "ROOF", "FURNITURE", "SOFA", "COUCH", "ARMCHAIR",
    "CHAIR", "TABLE", "LAPTOP", "KEYBOARD", "MOUSE", "SCREEN", "MONITOR", "PRINTER", "SCANNER", "HEADPHONE",
    "MICROPHONE", "SPEAKER", "PHONE", "SMARTPHONE", "TABLET", "DEVICE", "ELECTRONICS", "GADGET", "APPLIANCE", "MACHINE",
    "ENGINE", "MOTOR", "BATTERY", "CABLE", "WIRE", "PLUG", "OUTLET", "SWITCH", "BUTTON", "REMOTE",
    "CONTROL", "ADAPTER", "CHARGER", "BULB", "LAMP", "FLASHLIGHT", "CANDLE", "MATCH", "LIGHTER", "FLAME",
    "GAS", "ELECTRICITY", "POWER", "ENERGY", "SOURCE", "GENERATOR", "SOLAR", "WIND", "HYDRO", "NATURAL",
    "MANUFACTURE", "FACTORY", "PRODUCTION", "ASSEMBLY", "LINE", "WORKER", "EMPLOYEE", "MANAGER", "SUPERVISOR", "BOSS",
    "EXECUTIVE", "CEO", "DIRECTOR", "OFFICE", "DESK", "CUBICLE", "MEETING", "CONFERENCE", "SEMINAR", "TRAINING",
    "PRESENTATION", "PROJECT", "TASK", "GOAL", "OBJECTIVE", "TARGET", "PLAN", "STRATEGY", "TACTIC", "ACTION",
    "STEP", "MOVE", "DECISION", "CHOICE", "OPTION", "ALTERNATIVE", "SOLUTION", "ANSWER", "RESULT", "OUTCOME",
    "CONSEQUENCE", "EFFECT", "IMPACT", "INFLUENCE", "SIGNIFICANCE", "IMPORTANCE", "RELEVANCE", "VALUE", "BENEFIT", "ADVANTAGE",
    "DISADVANTAGE", "DRAWBACK", "LIMITATION", "RESTRICTION", "OBSERVATION", "ANALYSIS", "EXPLANATION", "DESCRIPTION",
    "DETAIL", "FACT", "EVIDENCE", "PROOF", "DATA", "INFORMATION", "KNOWLEDGE", "UNDERSTANDING", "INSIGHT", "AWARENESS",
    "PERCEPTION", "CONCEPT", "IDEA", "THOUGHT", "NOTION", "BELIEF", "OPINION", "ATTITUDE", "FEELING", "EMOTION",
    "SENSE", "EXPERIENCE", "MEMORY", "COLLECTION", "REMEMBRANCE", "IMPRESSION", "JUDGMENT", "CONCLUSION", "ASSUMPTION", "EXPECTATION",
    "PREDICTION", "FORECAST", "ANTICIPATION", "HOPE", "WISH", "DREAM", "GOAL", "AMBITION", "ASPIRATION", "DESIRE",
    "WANT", "NEED", "MOTIVE", "REASON", "PURPOSE", "INTENTION", "MOTIVATION", "DRIVE", "PASSION", "ENERGY",
    "EFFORT", "ACTION", "BEHAVIOR", "HABIT", "ROUTINE", "PRACTICE", "CUSTOM", "TRADITION", "CULTURE", "SOCIETY",
    "COMMUNITY", "GROUP", "TEAM", "ORGANIZATION", "INSTITUTION", "SYSTEM", "STRUCTURE", "ORDER", "RULE", "LAW",
    "PRINCIPLE", "VALUE", "ETHIC", "MORAL", "STANDARD", "NORM", "IDEAL", "VISION", "MISSION", "GOAL",
    "OBJECTIVE", "TARGET", "STRATEGY", "PLAN", "TACTIC", "METHOD", "TECHNIQUE", "APPROACH", "PROCESS", "SYSTEM",
    "STRUCTURE", "FRAMEWORK", "MODEL", "THEORY", "CONCEPT", "IDEA", "PHILOSOPHY", "BELIEF", "THEME", "TOPIC",
    "SUBJECT", "ISSUE", "QUESTION", "PROBLEM", "CHALLENGE", "DIFFICULTY", "OBSTACLE", "BARRIER", "LIMITATION", "RESTRICTION",
    "COMPETITION", "CONFLICT", "OPPOSITION", "RESISTANCE", "STRUGGLE", "EFFORT", "ATTEMPT", "TRY", "TEST", "EXPERIMENT",
    "PROJECT", "VENTURE", "ENTERPRISE", "UNDERTAKING", "INITIATIVE", "PROGRAM", "CAMPAIGN", "EFFORT", "COLLABORATION", "COOPERATION",
    "PARTNERSHIP", "ALLIANCE", "ASSOCIATION", "CONNECTION", "RELATIONSHIP", "BOND", "TIE", "LINK", "NETWORK", "SYSTEM",
    "STRUCTURE", "FRAMEWORK", "MODEL", "STRATEGY", "PLAN", "TACTIC", "METHOD", "APPROACH", "PROCESS", "PROCEDURE",
    "SYSTEM", "STRUCTURE", "FRAMEWORK", "MODEL", "THEORY", "CONCEPT", "IDEA", "PHILOSOPHY", "BELIEF", "THEME",
    "TOPIC", "SUBJECT", "ISSUE", "QUESTION", "PROBLEM", "CHALLENGE", "DIFFICULTY", "OBSTACLE", "BARRIER", "LIMITATION",
    "RESTRICTION", "COMPETITION", "CONFLICT", "OPPOSITION", "RESISTANCE", "STRUGGLE", "EFFORT", "ATTEMPT", "TRY",
    "EXPERIMENT", "PROJECT", "VENTURE", "ENTERPRISE", "UNDERTAKING", "INITIATIVE", "PROGRAM", "CAMPAIGN", "EFFORT", "COLLABORATION",
    "COOPERATION", "PARTNERSHIP", "ALLIANCE", "ASSOCIATION", "CONNECTION", "RELATIONSHIP", "BOND", "TIE", "LINK", "NETWORK"];
    let currentWordIndex = (Math.floor(Math.random()*100*words.length))%words.length;
    let currentWord = words[currentWordIndex];

    function updateScore() {
        scoreSpan.textContent = score;
    }

    function updateWord() {
        wordSpan.textContent = currentWord;
        
    }

    function checkInput(event) {
        
        const typedLetter = event.key.toUpperCase();
        const firstLetter = currentWord.charAt(0);
        if (typedLetter === firstLetter) {
            
            currentWord = currentWord.substring(1);
            updateWord();
            fire();
            if (currentWord === "") {
                score++;
                updateScore();
                nextWord();
            }
            
        }
    }

    function nextWord() {
        currentWordIndex = (Math.floor(Math.random()*100*words.length))%words.length;
        currentWord = words[currentWordIndex];
        resetWordPosition();
        updateWord();
        
    }

    function resetWordPosition() {
       
        wordSpan.style.left = Math.floor(Math.random() * (gameScreen.offsetWidth- wordSpan.offsetWidth-100)) + "px"; // Randomize horizontal position
        wordSpan.style.top = "0px"; // Reset word position to top
        
        animateWordFall();
       
    }

    function endGame() {
        alert(`Game Over! Your score is ${score}`);
        const userscore = {curuser, score};

        const prevscore = JSON.parse(localStorage.getItem('scoretype'));

        if(prevscore){
        if(prevscore.score<score){
          localStorage.removeItem('scoretype');
          localStorage.setItem('scoretype', JSON.stringify(userscore));
        }
      }else{
        localStorage.setItem('scoretype', JSON.stringify(userscore));
      }
        score = 0;
        updateScore();
        position =0;
    }

    function animateWordFall() {
         position = 0;
        const endPosition = gameScreen.offsetHeight - wordSpan.offsetHeight;
        const speed = 2; // Adjust speed as needed

        const animationInterval = setInterval(function() {
            if (position >= endPosition) {
                clearInterval(animationInterval);
                endGame();
                window.location.href = 'typinggame.html';
                
            } else {
                position += speed;
                wordSpan.style.top = position + "px";
            }
        }, 150); // Adjust interval for smooth animation
    }

    // function fire() {
    //     const fireball = document.createElement("div");
    //     fireball.classList.add("fireball");
    //     wordSpan.appendChild(fireball);
    //     setTimeout(() => {
    //         wordSpan.removeChild(fireball);
    //     }, 500); // Remove fireball after 1 second
    // }

    function fire() {
      const keyframes = document.createElement('style');
      keyframes.type = 'text/css';
      keyframes.innerHTML = `
      @keyframes fire {
        0% {
              transform: translateX(${(gun.offsetLeft - wordSpan.offsetLeft)/2}px) translateY(${(gun.offsetTop - wordSpan.offsetTop)/2}px);
              height: 5px;
              width: 5px;
              opacity: 0.7;
        }
        100% {
            transform: translateX(0px) translateY(0px);
            height: 10px;
              width: 10px;
              opacity: 1;
        }
    }
  `;
  document.head.appendChild(keyframes);

  const fireball = document.createElement("div");
        fireball.classList.add("fireball");
        fireball.style.animation = 'fire .5s ease-in-out forwards';
        wordSpan.appendChild(fireball);
        setTimeout(() => {
            wordSpan.removeChild(fireball);
        }, 500); 

  }

    // function checkCollision() {
    //     const wordRect = wordSpan.getBoundingClientRect();
    //     const scoreRect = scoreSpan.getBoundingClientRect();

    //     if (wordRect.bottom >= scoreRect.top && wordRect.top <= scoreRect.bottom && wordRect.right >= scoreRect.left && wordRect.left <= scoreRect.right) {
    //         endGame();
    //     }
    // }

     gun.addEventListener('click', function() {
            // Focus on the hidden input field to trigger the keyboard
            document.getElementById('triggerInput').focus();
            document.getElementById('triggerInput').addEventListener("keydown", checkInput);
    });

    
    document.addEventListener("keydown", checkInput);
    
    setTimeout(updateWord, 3200);
    
   // updateWord(); // Initial word
    resetWordPosition();  // Reset word position

    
    // // animateWordFall(); // Start word falling animation
    // setInterval(checkCollision, 100);
});


  </script>
  
</body>
</html>
